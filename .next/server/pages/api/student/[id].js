"use strict";(()=>{var e={};e.id=575,e.ids=[575],e.modules={1185:e=>{e.exports=require("mongoose")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},2465:(e,t,n)=>{n.r(t),n.d(t,{config:()=>a,default:()=>u,routeModule:()=>l});var r=n(1802),i=n(7153),o=n(6249),d=n(7785);let u=(0,o.l)(d,"default"),a=(0,o.l)(d,"config"),l=new r.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/student/[id]",pathname:"/api/student/[id]",bundlePath:"",filename:""},userland:d})},3391:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(1185),i=n.n(r);let o={},d=async function(){if(!o?.isConnected)try{let e=await i().connect(process.env.MONGODB_URI,{});o.isConnected=e.connections[0].readyState,console.log("MongoDB Connected!")}catch(e){console.error("Error connecting to MongoDB:",e)}}},9064:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(1185),i=n.n(r);let o=new(i()).Schema({email:{type:String,require:!0},password:{type:String,required:!0},github:{type:String,required:!1},name:{type:String,required:!1},motivation:{type:String,required:!1},location:{type:String,required:!1},portfolio:{type:String,required:!1},os:{type:String,required:!1},hobbies:{type:String,required:!1},industry:{type:String,required:!1},prevIndustry:{type:String,required:!1}}),d=i().models.User||i().model("User",o)},7785:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(3391),i=n(9064);async function o(e,t){if(e.body,e.query.id,"GET"===e.method){let n=e.query.id,{motivation:r,industry:o,prevIndustry:d,email:u,name:a,hobby:l}=e.body,s=await i.default.findById(n);try{return t.status(200).json({studentInfo:s})}catch(t){e.query.id}return t.status(405).end()}if("PUT"===e.method){let n=e.query.id,{motivation:r,industry:o,prevIndustry:d,email:u,name:a,hobbies:l,portfolio:s}=e.body,c=await i.default.findById(n);try{await i.default.findByIdAndUpdate(n,{name:null!==a?a:c.name,motivation:null!==r?r:c.motivation,industry:null!==o?o:c.industry,prevIndustry:null!==d?d:c.prevIndustry,email:null!==u?u:c.email,hobbies:null!==l?l:c.hobbies,portfolio:null!==s?s:c.portfolio});let e=await i.default.findById(n);return t.status(200).json({updatedStudent:e})}catch(e){console.log("issue",e)}return t.status(405).end()}404===t.status&&console.log("whys")}(0,r.default)()},7153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},1802:(e,t,n)=>{e.exports=n(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var n=t(t.s=2465);module.exports=n})();